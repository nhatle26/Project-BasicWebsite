<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Trang ch·ªß - DaTuNha Shop</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <link rel="stylesheet" href="../style/style.css" />
</head>

<body>
    <!-- Ph·∫ßn ƒë·∫ßu trang -->
    <header>
        <div class="header-nav">
            <h1>üå∏ DaTuNha Shop</h1>
            <div class="search">
                <input type="text" id="searchInput" placeholder="T√¨m ki·∫øm s·∫£n ph·∫©m..." />
                <button onclick="search()" class="fa-solid fa-magnifying-glass"></button>
                <nav>
                    <a href="home.html"><i class="fas fa-home"></i> Trang ch·ªß</a>
                    <a href="cart.html"><i class="fas fa-shopping-cart"></i> Gi·ªè h√†ng<span id="cartCount"></span></a>
                    <a href="#" id="userDisplayName" style="color: #4CAF50; font-weight: bold;">
                        <i class="fas fa-user"></i> User
                    </a>
                    <a href="#" onclick="logout()" style="color: #f44336;">
                        <i class="fas fa-sign-out-alt"></i> ƒêƒÉng xu·∫•t
                    </a>
                </nav>
            </div>
        </div>
    </header>

    <!-- Banner ch√†o m·ª´ng -->
    <section class="banner">
        <h2>Ch√†o m·ª´ng ƒë·∫øn v·ªõi DaTuNha Shop</h2>
        <p>N∆°i cung c·∫•p nh·ªØng b√≥ hoa t∆∞∆°i ƒë·∫πp nh·∫•t</p>
    </section>

    <!-- B·ªô l·ªçc s·∫£n ph·∫©m -->
    <section class="filter">
        <label>Danh m·ª•c:
            <select id="categoryFilter" onchange="filterProducts()">
                <option value="">T·∫•t c·∫£</option>
                <option value="Hoa H·ªìng">Hoa H·ªìng</option>
                <option value="Hoa Tulip">Hoa Tulip</option>
                <option value="Hoa Ly">Hoa Ly</option>
                <option value="Hoa Lan">Hoa Lan</option>
            </select>
        </label>

        <label>Gi√°:
            <select id="priceFilter" onchange="filterProducts()">
                <option value="">T·∫•t c·∫£</option>
                <option value="0-150000">D∆∞·ªõi 150k</option>
                <option value="150000-200000">150k - 200k</option>
                <option value="200000-10000000000">Tr√™n 200k</option>
            </select>
        </label>

        <label>S·∫Øp x·∫øp:
            <select id="sortFilter" onchange="sortProducts()">
                <option value="">M·∫∑c ƒë·ªãnh</option>
                <option value="price-asc">Gi√° tƒÉng d·∫ßn</option>
                <option value="price-desc">Gi√° gi·∫£m d·∫ßn</option>
            </select>
        </label>
    </section>

    <!-- Danh s√°ch s·∫£n ph·∫©m -->
    <main>
        <h3>Danh S√°ch S·∫£n Ph·∫©m</h3>
        <div id="productList" class="product-grid">
            <!-- S·∫£n ph·∫©m s·∫Ω ƒë∆∞·ª£c th√™m v√†o ƒë√¢y b·∫±ng JavaScript -->
        </div>

        <!-- Ph√¢n trang -->
        <div id="pagination"></div>
    </main>

    <!-- Ph·∫ßn cu·ªëi trang -->
    <footer>
        <p>¬© 2024 DaTuNha Shop - Giao hoa to√†n qu·ªëc</p>
        <p>üìû 0123.456.789 | üìß contact@DaTuNhashop.com</p>
    </footer>

    <script src="../js/home.js"></script>
    <script>
        // Ki·ªÉm tra ƒëƒÉng nh·∫≠p v√† hi·ªÉn th·ªã t√™n user
        document.addEventListener('DOMContentLoaded', () => {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            
            if (!currentUser) {
                // Ch∆∞a ƒëƒÉng nh·∫≠p -> chuy·ªÉn v·ªÅ trang login
                window.location.href = 'login.html';
                return;
            }
            
            // Hi·ªÉn th·ªã t√™n user
            const userDisplayElement = document.getElementById('userDisplayName');
            if (userDisplayElement) {
                userDisplayElement.innerHTML = `<i class="fas fa-user"></i> ${currentUser.fullname || currentUser.username}`;
            }
        });
        
        // H√†m ƒëƒÉng xu·∫•t
        function logout() {
            if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën ƒëƒÉng xu·∫•t?')) {
                localStorage.removeItem('currentUser');
                window.location.href = 'login.html';
            }
        }
    </script>
</body>

</html>